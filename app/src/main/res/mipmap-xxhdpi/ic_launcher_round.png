package com.kampen.riksSe.data_manager;

import androidx.annotation.NonNull;

import android.content.Context;
import android.util.Log;

import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import com.kampen.riksSe.ForgotPassword.Model.ForgotPasswordData;
import com.kampen.riksSe.ChangePassword.ModelN.ChangePasswordData;
import com.kampen.riksSe.api.remote_api.APIService;
import com.kampen.riksSe.api.remote_api.V2_api_model.AllHomeDataNew;
import com.kampen.riksSe.api.remote_api.V2_api_model.Competition;
import com.kampen.riksSe.api.remote_api.V2_api_model.Result;
import com.kampen.riksSe.api.remote_api.models.all_data_remote.BadgeCountResult;
import com.kampen.riksSe.leader.activity.fragments.LeaderBordTab.modelV3.LeaderBoardAllDataV3;
import com.kampen.riksSe.leader.activity.fragments.LeaderBordTab.models.LeaderBoardAllData;
import com.kampen.riksSe.leader.activity.fragments.account.profile.AddAllergiesDislikes.ModelNew.Alergy;
import com.kampen.riksSe.leader.activity.fragments.account.profile.AddAllergiesDislikes.ModelNew.AllergyData;
import com.kampen.riksSe.leader.activity.fragments.account.profile.AddAllergiesDislikes.ModelNew.AllergyResponce;
import com.kampen.riksSe.leader.activity.fragments.account.profile.AddAllergiesDislikes.ModelsV3.AddAllergiesV3Data;
import com.kampen.riksSe.leader.activity.fragments.account.profile.AddAllergiesDislikes.ModelsV3.AlergyResultDataV3;
import com.kampen.riksSe.leader.activity.fragments.chat.Model.ChatData;
import com.kampen.riksSe.leader.activity.fragments.chat.Model.ChatDetails;
import com.kampen.riksSe.leader.activity.fragments.home.addactivity.model.V3_Model.ActivityDaily;
import com.kampen.riksSe.leader.activity.fragments.home.addactivity.model.V3_Model.MotivationalVideo;
import com.kampen.riksSe.leader.activity.fragments.home.addactivity.model.newP.ActivitiesDB;
import com.kampen.riksSe.leader.activity.fragments.home.addactivity.model.newP.Add_Activity;
import com.kampen.riksSe.leader.activity.fragments.home.addactivity.model.newP.MotivationVideos;
import com.kampen.riksSe.leader.activity.fragments.home.nutrition.model.V3_Model.Meal;
import com.kampen.riksSe.leader.activity.fragments.home.nutrition.model.V3_Model.MealType;
import com.kampen.riksSe.leader.activity.fragments.home.nutrition.model.V3_Model.N_Plans;
import com.kampen.riksSe.leader.activity.fragments.home.nutrition.model.V3_Model.Recipe;
import com.kampen.riksSe.leader.activity.fragments.home.nutrition.model.newP.DayNutritionDB;
import com.kampen.riksSe.leader.activity.fragments.home.nutrition.model.newP.N_DayDB;
import com.kampen.riksSe.leader.activity.fragments.home.nutrition.model.newP.N_WeekDB;
import com.kampen.riksSe.leader.activity.fragments.home.nutrition.model.newP.NutritiousDB;
import com.kampen.riksSe.leader.activity.fragments.home.traings.models.V3_Model.W_Day;
import com.kampen.riksSe.leader.activity.fragments.home.traings.models.V3_Model.W_Plans;
import com.kampen.riksSe.leader.activity.fragments.home.traings.models.V3_Model.WorkoutType;
import com.kampen.riksSe.leader.activity.fragments.home.traings.models.newP.DayTainingDB;
import com.kampen.riksSe.leader.activity.fragments.home.traings.models.newP.T_DayDB;
import com.kampen.riksSe.leader.activity.fragments.home.traings.models.newP.T_WeekDB;
import com.kampen.riksSe.leader.activity.fragments.home.traings.models.newP.TrainingsDB;
import com.facebook.stetho.server.http.HttpStatus;


import org.json.JSONArray;
import org.json.JSONObject;

import com.kampen.riksSe.DI.LocalApiService;
import com.kampen.riksSe.DI.RemoteApiService;
import com.kampen.riksSe.DI.ServiceLocator;
import com.kampen.riksSe.api.remote_api.APIUrl;
import com.kampen.riksSe.api.remote_api.Generic_Result;
import com.kampen.riksSe.api.remote_api.ResponseStatus;
import com.kampen.riksSe.api.remote_api.models.RemoteUser;
import com.kampen.riksSe.api.remote_api.models.RemoteUserResult;
import com.kampen.riksSe.api.remote_api.models.all_data_remote.AllData;
import com.kampen.riksSe.leader.activity.fragments.home.addactivity.model.DailyActivityModel;
import com.kampen.riksSe.leader.activity.fragments.map.Modal.UserJourneyData;
import com.kampen.riksSe.leader.activity.fragments.plans.Model.PlanData;
import com.kampen.riksSe.leader.activity.fragments.plans.Model.PlanDetails;
import com.kampen.riksSe.payment.PayEx.PayExInvoiceResponceModel.PayExInvoiceResponceData;
import com.kampen.riksSe.payment.PayEx.PayExInvoiceSendDataModel.PayExInvoiceSendData;
import com.kampen.riksSe.payment.PayEx.PayExResponceModels.PayExAllResponceData;
import com.kampen.riksSe.payment.PayEx.PayExSendDataModel.PayExSendData;
import com.kampen.riksSe.payment.PayEx.PromoCodeModels.PromoCodeData;
import com.kampen.riksSe.user.model.Realm_User;
import com.kampen.riksSe.user.model.UserActivityData;
import com.kampen.riksSe.utils.Constants;
import com.kampen.riksSe.utils.SaveSharedPreference;


import java.io.File;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.Collections;
import java.util.HashMap;
import java.util.List;
import java.util.TimeZone;

import io.realm.Realm;
import io.realm.RealmResults;
import okhttp3.MediaType;
import okhttp3.MultipartBody;
import okhttp3.RequestBody;
import okhttp3.ResponseBody;
import retrofit2.Call;
import retrofit2.Callback;
import retrofit2.Response;
import retrofit2.Retrofit;
import retrofit2.converter.gson.GsonConverterFactory;

import static com.kampen.riksSe.api.remote_api.APIUrl.BASE_TEST_URL;
import static com.kampen.riksSe.api.remote_api.APIUrl.BASE_URL;
import static com.kampen.riksSe.utils.Constants.MULTIPART_FORM_DATA;
import static com.kampen.riksSe.utils.UtilityTz.getCompitionStartDate;

public class Repository {



    public  static  final String F_SIGNUP_NAME ="fname";

    public  static  final String GENDER ="gender";

    public  static  final String DATE_OF_BIRTH ="dob";

    public  static  final String HEIGHT ="height";

    public  static  final String PROFILE_IMAGE ="image";

    public  static  final String WEIGHT ="weight";

    public  static  final String L_SIGNUP_NAME ="lname";

    public  static  final String EMAIL ="email";

    public  static  final String FCM ="fcm_id";

    public  static  final String DEVICE_MODEL ="agent";

    public  static  final String DEVICE_SDK ="operating_system";

    public  static  final String IP_ADDRESS ="ip_address";

    public  static  final String FCM_DATE_TIME ="last_activity_time";

    public  static  final String PASSWORD ="password";


    public  static  final String C_PASSWORD ="c_password";

    public  static  final String F_NAME ="fname";

    public  static  final String L_NAME ="lname";

    public  static  final String STATUS_SUCCESS ="success";

    public  static  final String STATUS_FAILED="failed";

    public  static  final int  API_HIT_FAILED =102;

    public  static  final int  API_HIT_SUCCESS =101;

    public  static  final String  TOKEN ="token";

    public  static  final String USERID ="user_id";
    public  static  final String TIME_ZONE ="timezone";



    public  static  final String CVC ="national_id";

    public  static  final String STEPS_COUNT ="steps_count";

    public  static  final String DAY_NAME ="day_name";

    public  static  final String STARS_COUNT ="stars_count";

    public  static  final String ACTIVITY_ID ="activity_type_id";
    public  static  final String ACTIVITY_TIME ="user_activity_time";
    public  static  final String ACTIVITY_TIMER ="timer";
    public  static  final String ACTIVITY_IMAGE ="activity_image";
    public  static  final String ACTIVITY_LAT ="activity_lat";
    public  static  final String ACTIVITY_LONG ="activity_long";
    public  static  final String ACTIVITY_LOCATION ="activity_location";
    public  static  final String ACTIVITY_CALORIES ="calories";
    public  static  final String ACTIVITY_TITLE ="activity_title";
    public  static  final String ACTIVITY_DISTANCE ="distance";
    public  static  final String ACTIVITY_WEIGHT_LOSS ="weight_loss";
    public  static  final String ACTIVITY_WAIST_LOSS ="waist";


    final static double walkingFactor = 0.57;

    static double CaloriesBurnedPerMile;

    static double strip;

    static double stepCountMile; // step/mile

    static double conversationFactor;

    static double CaloriesBurned;

   /* Login  Repository */


    public static   void TestItemCreation()
    {


        Realm mLocalService= ((LocalApiService)  ServiceLocator.getService(LocalApiService.NAME)).getmRealm();

        Database_Manager.testItem(mLocalService,"1","umer","food","Juice","Unilever");


    }





  /*  public static  void getStartUpData( Realm_User user,String token, String userID,final ResponseStatus responseStatus){


        APIService mWebService;
        Realm      mLocalService;

        HashMap<String,String> hm=new HashMap();
        hm.put(USERID,"36");

        mWebService  = ((RemoteApiService) ServiceLocator.getService(RemoteApiService.NAME)).getApiService();


        Call<Generic_Result<Activities>> call = mWebService.getStartUpData("Bearer"+token,hm);


        call.enqueue(new Callback<Generic_Result<Activities>>() {
            @Override
            public void onResponse(Call<Generic_Result<Activities>> call, Response<Generic_Result<Activities>> response) {

                Generic_Result<Activities> obj = null;

                obj = response.body();
*//*

                Log.i("Login Response",response.body().getResult().getUser().getId());
                Log.i("Login Response",response.body().getResult().getUser().getToken());
*//*

                ResponseBody objError=response.errorBody();


                if(response!=null && response.code()== HttpStatus.HTTP_OK  && obj.getStatus().equals(STATUS_SUCCESS)) {



                 //   weeklyActivities remoteUser=obj.getResult().getWeekActivities();

                  *//*  if(remoteUser.getProfileImage()!=null && remoteUser.getProfileImage().length()>0) {

                        String  pathTemp=remoteUser.getProfileImage();

                        pathTemp=APIUrl.transformPath(pathTemp);

                        remoteUser.setProfileImage(APIUrl